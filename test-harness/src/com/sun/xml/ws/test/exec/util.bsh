// utility methods to be made available to the test clients

/**
 * Method used to add a Handler to a stub or dispatch object.
 */
addHandlerToBinding(handler,bindingProvider) {
    binding = bindingProvider.getBinding();
    handlers = binding.getHandlerChain();
    handlers.add(handler);
    binding.setHandlerChain(handlers);
}

/**
 * Method used to clear any handlers from a stub or dispatch object.
 */
void clearHandlers(provider) {
    binding = provider.getBinding();
    binding.setHandlerChain(new java.util.ArrayList());
}

getSOAPMessage(Source msg) {
    factory = MessageFactory.newInstance();
    message = factory.createMessage();
    message.getSOAPPart().setContent(msg);
    message.saveChanges();
    return message;
}

SOAPMessage getSOAPMessage12(Source msg) {
    factory = MessageFactory.newInstance(SOAPConstants.SOAP_1_2_PROTOCOL);
    message = factory.createMessage();
    message.getSOAPPart().setContent(msg);
    message.saveChanges();
    return message;
}
